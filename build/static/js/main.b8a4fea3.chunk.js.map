{"version":3,"sources":["components/Header/header.module.css","redux/Contacts/contactAction.js","redux/User/userSelectors.js","service.js","components/themeSwitch/themeSwitch.module.css","redux/User/userOperation.js","redux/User/userAction.js","components/Container/container.module.css","img/phonebook.svg","components/themeSwitch/ThemeSwitch.jsx","components/Header/Header.jsx","components/Container/Container.jsx","components/PublicRoute/PublicRoute.jsx","components/PrivatRoute/PrivatRoute.jsx","components/App/App.js","redux/Contacts/contactReducer.js","redux/User/userReducer.js","redux/store.js","index.js"],"names":["module","exports","addContactsRequest","createAction","addContactsSucces","addContactsError","getContactsRequest","getContactsSucces","getContactsError","deleteContactRequest","deleteContactSucces","deleteContactError","filterContact","getUserName","state","auth","user","name","getTokenState","isLogin","getErrorMessage","error","axios","defaults","baseURL","path","signupUser","data","post","then","response","loginUserService","logOutUserService","refreshUserService","get","getContacts","uploadContacts","contact","removeContacts","contactId","delete","defaultModules","set","PNotifyMobile","token","headers","common","Authorization","registerUser","value","dispatch","a","signupUserRequest","signupUserSucces","signupUserError","message","alert","text","loginUser","loginUserRequest","loginUserSucces","loginUserError","logoutUser","logoutUserRequest","logoutUserSucces","logoutUserError","refreshUser","getState","persistedToken","refreshUserRequest","refreshUserSucces","refreshUserError","LIGHT","DARK","bodyRef","document","querySelector","ThemeSwitch","useEffect","toogleRef","localStorage","getItem","classList","add","checked","className","styles","themeSwitchControl","onChange","event","target","remove","setItem","themeSwitchToggle","type","id","aria-label","aria-hidden","themeSwitchTrack","htmlFor","themeSwitchMarker","mapDispatchToProps","onLogout","connect","islogin","withRouter","console","log","window","location","pathname","header","container","link","to","src","phonebook","beforeInjection","svg","phonebookIcon","setAttribute","themeContainer","authname","toUpperCase","logoutBtn","onClick","Provider","loginIcon","nav","login","loginTitle","registration","Container","children","Component","component","restricted","rest","render","props","Main","React","lazy","Home","Login","Registr","onRefreshUser","fallback","exact","PrivatRoute","itemReducer","createReducer","payload","_","filter","filterReducer","contactsReducer","combineReducers","items","initialUserState","email","userReducer","persistConfig","key","storage","whitelist","persistedReducer","persistReducer","rootReducer","contacts","store","configureStore","reducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","persistor","persistStore","ReactDOM","loading"],"mappings":"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","file":"static/js/main.b8a4fea3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__HZ6Fg\",\"container\":\"header_container__3hoMn\",\"themeContainer\":\"header_themeContainer__2ubwV\",\"title\":\"header_title__3EkoF\",\"nav\":\"header_nav__2v8dK\",\"login\":\"header_login__1zFFR\",\"registration\":\"header_registration__2dc-t\",\"link\":\"header_link__3XF52\",\"name\":\"header_name__1gB5Y\",\"authname\":\"header_authname__1n1HJ\",\"icon\":\"header_icon__1EhbJ\",\"phonebookIcon\":\"header_phonebookIcon__35Eyp\",\"loginIcon\":\"header_loginIcon__1D9GB\",\"logoutBtn\":\"header_logoutBtn__3unf-\"};","import { createAction } from \"@reduxjs/toolkit\";\n\nexport const addContactsRequest = createAction(\"contact/add/Request\");\nexport const addContactsSucces = createAction(\"contact/add/Succes\");\nexport const addContactsError = createAction(\"contact/add/Error\");\n\nexport const getContactsRequest = createAction(\"contact/get/Request\");\nexport const getContactsSucces = createAction(\"contact/get/Succes\");\nexport const getContactsError = createAction(\"contact/get/Error\");\n\nexport const deleteContactRequest = createAction(\"contact/delete/Request\");\nexport const deleteContactSucces = createAction(\"contact/delete/Succes\");\nexport const deleteContactError = createAction(\"contact/delete/Error\");\n\nexport const filterContact = createAction(\"contact/filter\");\n","export const getUserName = (state) => state.auth.user.name;\nexport const getTokenState = (state) => state.auth.isLogin;\nexport const getErrorMessage = (state) => state.auth.error;\n","import axios from \"axios\";\n\naxios.defaults.baseURL = \"http://localhost:3000/api\";\n\nconst path = \"/contacts\";\n\nexport const signupUser = (data) => {\n  return axios.post(\"/users/signup\", data).then((response) => response.data);\n};\n\nexport const loginUserService = (data) => {\n  return axios.post(\"/users/login\", data).then((response) => response.data);\n};\n\nexport const logOutUserService = (data) => {\n  return axios.post(\"/users/logout\");\n};\n\nexport const refreshUserService = (data) => {\n  return axios.get(\"/users/current\");\n};\n\nexport const getContacts = () => {\n  return axios.get(path).then((response) => response.data);\n};\n\nexport const uploadContacts = (contact) => {\n  return axios.post(path, contact).then((response) => response.data);\n};\n\nexport const removeContacts = (contactId) => {\n  return axios.delete(`${path}/${contactId}`);\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toolbar\":\"themeSwitch_toolbar__1Q0-S\",\"themeSwitch\":\"themeSwitch_themeSwitch__3L0yI\",\"themeSwitchIcon\":\"themeSwitch_themeSwitchIcon__11u7y\",\"themeSwitchControl\":\"themeSwitch_themeSwitchControl__3wCwz\",\"themeSwitchToggle\":\"themeSwitch_themeSwitchToggle__FBpc4\",\"themeSwitchTrack\":\"themeSwitch_themeSwitchTrack__3IaF4\",\"themeSwitchMarker\":\"themeSwitch_themeSwitchMarker__3zvPZ\"};","import axios from \"axios\";\nimport { alert, defaultModules } from \"@pnotify/core\";\nimport \"@pnotify/core/dist/PNotify.css\";\nimport * as PNotifyMobile from \"@pnotify/mobile\";\nimport \"@pnotify/mobile/dist/PNotifyMobile.css\";\nimport \"@pnotify/core/dist/BrightTheme.css\";\n\nimport {\n  signupUser,\n  loginUserService,\n  logOutUserService,\n  refreshUserService,\n} from \"../../service\";\n\nimport {\n  signupUserRequest,\n  signupUserSucces,\n  signupUserError,\n  loginUserRequest,\n  loginUserSucces,\n  loginUserError,\n  logoutUserRequest,\n  logoutUserSucces,\n  logoutUserError,\n  refreshUserRequest,\n  refreshUserSucces,\n  refreshUserError,\n} from \"./userAction\";\n\ndefaultModules.set(PNotifyMobile, {});\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = \"\";\n  },\n};\n\nexport const registerUser = (value) => async (dispatch) => {\n  dispatch(signupUserRequest());\n\n  try {\n    const response = await signupUser(value);\n\n    token.set(response.token);\n    dispatch(signupUserSucces(response));\n  } catch (error) {\n    dispatch(signupUserError(error.message));\n\n    alert({\n      text: error,\n    });\n  }\n};\n\nexport const loginUser = (value) => async (dispatch) => {\n  dispatch(loginUserRequest());\n\n  try {\n    const response = await loginUserService(value);\n    token.set(response.token);\n\n    dispatch(loginUserSucces(response));\n  } catch (error) {\n    dispatch(loginUserError(error.message));\n\n    alert({\n      text: error,\n    });\n  }\n};\n\nexport const logoutUser = () => async (dispatch) => {\n  dispatch(logoutUserRequest());\n\n  try {\n    await logOutUserService();\n    token.unset();\n    dispatch(logoutUserSucces());\n  } catch (error) {\n    dispatch(logoutUserError(error.message));\n    alert({\n      text: error,\n    });\n  }\n};\n\nexport const refreshUser = () => async (dispatch, getState) => {\n  const {\n    auth: { token: persistedToken },\n  } = getState();\n\n  if (!persistedToken) {\n    return;\n  }\n\n  token.set(persistedToken);\n  dispatch(refreshUserRequest());\n\n  try {\n    const response = await refreshUserService();\n    dispatch(refreshUserSucces(response.data));\n  } catch (error) {\n    dispatch(refreshUserError(error.message));\n    alert({\n      text: error,\n    });\n  }\n};\n","import { createAction } from \"@reduxjs/toolkit\";\n\nexport const signupUserRequest = createAction(\"user/signup/Request\");\nexport const signupUserSucces = createAction(\"user/signup/Succes\");\nexport const signupUserError = createAction(\"user/signup/Error\");\n\nexport const loginUserRequest = createAction(\"user/login/Request\");\nexport const loginUserSucces = createAction(\"user/login/Succes\");\nexport const loginUserError = createAction(\"user/login/Error\");\n\nexport const logoutUserRequest = createAction(\"user/logout/Request\");\nexport const logoutUserSucces = createAction(\"user/logout/Succes\");\nexport const logoutUserError = createAction(\"user/logout/Error\");\n\nexport const refreshUserRequest = createAction(\"user/refresh/Request\");\nexport const refreshUserSucces = createAction(\"user/refresh/Succes\");\nexport const refreshUserError = createAction(\"user/refresh/Error\");\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"container_container__3TiUU\"};","export default __webpack_public_path__ + \"static/media/phonebook.b87b8b9a.svg\";","import styles from './themeSwitch.module.css'\nimport React, { useEffect } from 'react'\n\nconst LIGHT = 'lightTheme'\nconst DARK = 'darkTheme'\nconst bodyRef = document.querySelector('body')\n\nfunction ThemeSwitch() {\n  useEffect(() => {\n    const toogleRef = document.querySelector('#theme-switch-toggle')\n    if (localStorage.getItem('theme') === 'dark') {\n      bodyRef.classList.add(DARK)\n      toogleRef.checked = true\n    } else {\n      bodyRef.classList.add(LIGHT)\n      toogleRef.checked = false\n    }\n  }, [])\n\n  const changeToggleTheme = function (event) {\n    if (event.target.checked) {\n      bodyRef.classList.add(DARK)\n      bodyRef.classList.remove(LIGHT)\n      localStorage.setItem('theme', 'dark')\n    } else {\n      bodyRef.classList.add(LIGHT)\n      bodyRef.classList.remove(DARK)\n      localStorage.setItem('theme', 'light')\n    }\n  }\n\n  return (\n    <div className=\"toolbar\">\n      <div className=\"themeSwitch\">\n        <div className={styles.themeSwitchControl}>\n          <input\n            onChange={changeToggleTheme}\n            className={styles.themeSwitchToggle}\n            type=\"checkbox\"\n            name=\"theme\"\n            id=\"theme-switch-toggle\"\n            aria-label=\"Переключить между тёмной и светлой темой\"\n          />\n          <label\n            aria-hidden=\"true\"\n            className={styles.themeSwitchTrack}\n            htmlFor=\"theme-switch-toggle\"\n          ></label>\n          <div aria-hidden=\"true\" className={styles.themeSwitchMarker}></div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ThemeSwitch\n","import React, { useState, useEffect } from 'react'\nimport { NavLink, withRouter } from 'react-router-dom'\nimport { ReactSVG } from 'react-svg'\nimport { AiOutlineLogin, AiOutlineLogout } from 'react-icons/ai'\nimport { IconContext } from 'react-icons'\nimport { connect } from 'react-redux'\nimport { logoutUser } from '../../redux/User/userOperation'\nimport { getTokenState, getUserName } from '../../redux/User/userSelectors'\nimport styles from './header.module.css'\nimport phonebook from '../../img/phonebook.svg'\nimport ThemeSwitch from '../themeSwitch/ThemeSwitch'\n\nfunction Header({ islogin, name, onLogout }) {\n  useEffect(() => {\n    console.log(window.location.pathname)\n  }, [])\n\n  return (\n    <div className={styles.header}>\n      <div className={styles.container}>\n        <NavLink className={styles.link} to=\"/\">\n          {/* <span className={styles.title}> Netflix</span>{' '} */}\n          <ReactSVG\n            src={phonebook}\n            beforeInjection={(svg) => {\n              svg.classList.add(styles.phonebookIcon)\n              svg.setAttribute('style', 'width: 170px')\n            }}\n          />\n        </NavLink>\n        <div className={styles.themeContainer}>\n          {islogin ? (\n            <div className={styles.authname}>\n              <span className={styles.name}>\n                Welcome, {name && name.toUpperCase()}\n              </span>\n\n              <button\n                className={styles.logoutBtn}\n                type=\"button\"\n                onClick={onLogout}\n              >\n                <IconContext.Provider value={{ className: styles.loginIcon }}>\n                  <AiOutlineLogout />{' '}\n                </IconContext.Provider>\n                Logout\n              </button>\n            </div>\n          ) : (\n            <>\n              <div className={styles.nav}>\n                <NavLink className={styles.login} to=\"/login\">\n                  <IconContext.Provider value={{ className: styles.loginIcon }}>\n                    <AiOutlineLogin />{' '}\n                    <span className={styles.loginTitle}>Sign in</span>\n                  </IconContext.Provider>\n                </NavLink>\n                <NavLink className={styles.registration} to=\"/registr\">\n                  <span>Sign up</span>\n                </NavLink>\n              </div>\n            </>\n          )}\n          <div>{window.location.pathname !== '/' && <ThemeSwitch />}</div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => ({\n  islogin: getTokenState(state),\n  name: getUserName(state),\n})\n\nconst mapDispatchToProps = {\n  onLogout: logoutUser,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Header))\n","import styles from \"../Container/container.module.css\";\nimport PropTypes from \"prop-types\";\nfunction Container({ children }) {\n  return <div className={styles.container}>{children}</div>;\n}\n\nContainer.propTypes = {\n  children: PropTypes.node,\n};\n\nexport default Container;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { getTokenState } from \"../../redux/User/userSelectors\";\n\nconst PublicRoute = ({\n  component: Component,\n  isLogin,\n  restricted,\n  ...rest\n}) => {\n  return (\n    <Route\n      {...rest}\n      render={(props) =>\n        isLogin && restricted ? (\n          <Redirect to=\"/contacts\" />\n        ) : (\n          <Component {...props} />\n        )\n      }\n    />\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  isLogin: getTokenState(state),\n});\n\nexport default connect(mapStateToProps)(PublicRoute);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { getTokenState } from \"../../redux/User/userSelectors\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst PrivateRoute = ({ component: Component, token, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={(props) =>\n        token ? <Component {...props} /> : <Redirect to=\"/\" />\n      }\n    />\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  token: getTokenState(state),\n});\n\nexport default connect(mapStateToProps, null)(PrivateRoute);\n","import React, { Suspense, useEffect } from \"react\";\nimport { Switch } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Header from \"../Header/Header\";\nimport Container from \"../Container/Container\";\nimport PublicRoute from \"../PublicRoute/PublicRoute\";\nimport PrivatRoute from \"../PrivatRoute/PrivatRoute\";\nimport { refreshUser } from \"../../redux/User/userOperation\";\n\nconst Main = React.lazy(() => import(\"../Main/Main\"));\nconst Home = React.lazy(() => import(\"../Home/Home\"));\nconst Login = React.lazy(() => import(\"../Login/Login\"));\nconst Registr = React.lazy(() => import(\"../Registr/Registr\"));\n\nfunction App({ onRefreshUser }) {\n  useEffect(() => {\n    onRefreshUser();\n  }, [onRefreshUser]);\n\n  return (\n    <>\n      {\" \"}\n      <Header />\n      <Container>\n        <Suspense fallback={<p>Loud...</p>}>\n          <Switch>\n            <PublicRoute restricted exact path=\"/login\" component={Login} />\n            <PublicRoute restricted exact path=\"/registr\" component={Registr} />\n            <PrivatRoute component={Main} path=\"/contacts\" exact />\n            <PublicRoute restricted path=\"/\" component={Home} />\n          </Switch>\n        </Suspense>\n      </Container>\n    </>\n  );\n}\n\nconst mapDispatchToProps = {\n  onRefreshUser: refreshUser,\n};\n\nexport default connect(null, mapDispatchToProps)(App);\n","import { combineReducers } from \"redux\";\nimport { createReducer } from \"@reduxjs/toolkit\";\n\nimport {\n  filterContact,\n  addContactsSucces,\n  deleteContactSucces,\n  getContactsSucces,\n} from \"./contactAction\";\n\nconst itemReducer = createReducer([], {\n  [addContactsSucces]: (state, { payload }) => [...state, payload],\n  [getContactsSucces]: (_, { payload }) => payload,\n  [deleteContactSucces]: (state, { payload }) =>\n    state.filter(({ id }) => id !== payload),\n});\n\nconst filterReducer = createReducer(\"\", {\n  [filterContact]: (_, { payload }) => payload,\n});\n\nconst contactsReducer = combineReducers({\n  items: itemReducer,\n  filter: filterReducer,\n});\n\nexport default contactsReducer;\n","import { combineReducers } from \"redux\";\nimport { createReducer } from \"@reduxjs/toolkit\";\nimport {\n  signupUserSucces,\n  signupUserError,\n  loginUserSucces,\n  loginUserError,\n  logoutUserSucces,\n  logoutUserError,\n  refreshUserSucces,\n  refreshUserError,\n  refreshUserRequest,\n} from \"./userAction\";\nimport {\n  addContactsSucces,\n  getContactsSucces,\n} from \"../Contacts/contactAction\";\n\nconst initialUserState = {\n  name: null,\n  email: null,\n};\n\nconst user = createReducer(initialUserState, {\n  [signupUserSucces]: (_, { payload }) => payload.user,\n  [loginUserSucces]: (_, { payload }) => payload.user,\n  [logoutUserSucces]: () => initialUserState,\n  [refreshUserSucces]: (_, { payload }) => payload,\n});\n\nconst token = createReducer(null, {\n  [signupUserSucces]: (_, { payload }) => payload.token,\n  [loginUserSucces]: (_, { payload }) => payload.token,\n  [logoutUserSucces]: () => null,\n});\n\nconst error = createReducer(null, {\n  [signupUserError]: (_, { payload }) => payload,\n  [loginUserError]: (_, { payload }) => payload,\n  [logoutUserError]: (_, { payload }) => payload,\n  [refreshUserError]: (_, { payload }) => payload,\n});\n\nconst isLogin = createReducer(false, {\n  [refreshUserSucces]: () => true,\n  [addContactsSucces]: () => true,\n  [getContactsSucces]: () => true,\n  [signupUserSucces]: () => true,\n  [loginUserSucces]: () => true,\n  [refreshUserRequest]: () => true,\n  [logoutUserSucces]: () => false,\n  [loginUserError]: () => false,\n  [signupUserError]: () => false,\n});\n\nconst userReducer = combineReducers({\n  user,\n  token,\n  error,\n  isLogin,\n});\n\nexport default userReducer;\n","import { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\nimport contactsReducer from \"./Contacts/contactReducer\";\nimport userReducer from \"./User/userReducer\";\nimport { persistReducer } from \"redux-persist\";\nimport storage from \"redux-persist/lib/storage\";\nimport { combineReducers } from \"redux\";\nimport {\n  persistStore,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from \"redux-persist\";\n\nconst persistConfig = {\n  key: \"token\",\n  storage,\n  whitelist: [\"token\"],\n};\n\nconst persistedReducer = persistReducer(persistConfig, userReducer);\n\nconst rootReducer = combineReducers({\n  contacts: contactsReducer,\n  auth: persistedReducer,\n});\n\nexport const store = configureStore({\n  reducer: rootReducer,\n  middleware: getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n});\n\nexport const persistor = persistStore(store);\n","import ReactDOM from \"react-dom\";\nimport React from \"react\";\nimport App from \"./components/App/App\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport { Provider } from \"react-redux\";\nimport { store, persistor } from \"./redux/store\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport \"index.css\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <PersistGate loading={null} persistor={persistor}>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </PersistGate>\n  </Provider>,\n  document.querySelector(\"#root\")\n);\n"],"sourceRoot":""}